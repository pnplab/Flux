var cct=$.cookie("csrf_cookie_aware");
jQuery(document).ready(function(){function c(a,b){return{Ok:{text:"Ok",click:function(){$.ajax({url:a,type:"POST",data:b,dataType:"json",success:function(a){window.location.reload(!0)},error:function(a){window.location.reload(!0)}})},"class":"button-dialog-ok"},Cancel:{text:"Cancel",click:function(){$("#email").val("");$(".dialog-error").hide();$(this).dialog("close")},"class":"button-dialog-close"}}}$(".add_api_confirm").dialog({autoOpen:!1,minWidth:200,title:"Insert study API key",buttons:{Ok:function(){var a=
$(".plugin_id").attr("id"),b=document.getElementById("api_key_text").value;console.log(b);$.ajax({url:"../plugin_give_studyaccess",type:"POST",data:{plugin_id:a,value:b,csrf_token_aware:cct},dataType:"json",success:function(){window.location.reload(!0)},error:function(a){}})},Cancel:function(){$(".add_api_confirm").dialog("close")}}});$(".delete-apikey").each(function(){$.data(this,"dialog",$(this).next(".delete-dialog").dialog({autoOpen:!1,modal:!0,draggable:!1,resizable:!1}))}).click(function(a){a.preventDefault();
a=$(this).parent().attr("id");var b=$(".plugin_id").attr("id");a={value:a,plugin_id:b,csrf_token_aware:cct};$.data(this,"dialog").dialog("option","title","Remove plugin from study");$.data(this,"dialog").dialog({buttons:c("../delete_apikey",a)});$.data(this,"dialog").dialog("open")});$("#statebox").click(function(a){a=$(".plugin_id").attr("id");$.ajax({url:"../update_plugin_state",type:"POST",data:{plugin_id:a,value:this.checked?1:0,csrf_token_aware:cct},dataType:"json",success:function(){},error:function(a){}})});
$("#add_api").click(function(a){$(".plugin_id").attr("id");$(".add_api_confirm").dialog("open")})});
